1+1
3*4
2^3
5%%3
4^5
1+1
2*3
4^5
1+1
2*3
4^5
a+b
a<-4
b
b<-2
a+b
x<-c(1,2,3)
x+x
y<-c(1,2,3,4)
x+y
z<-c(1,2,3,4,5,6)
x+z
sqrt(16)
round(22.66666666666641,2)
round(78422.66666666666641,2)
round(78422.66666666666641,2)
round(78422.66666666666641,2)
round(78422.66666666666641,2)
round(78422.66666666666641,-2)
class(a)
is.character(a)
longx<-1:200
length(longx)
stringx<-"How are you?"
length(stringx)
stringx<-"How are you?"
length(stringx)
nchart(stringx)
stringx<-"How are you?"
length(stringx)
nchar(stringx)
floor(14557)
floor(14557)
floor(14557,-2)
floor(14557.1478)
#大標題
##次標題
###三標
q<-c(1.4:5.6)
x<-c(1:5)
x+3
seq(1,9)
seq(1.9,by=2)
seq(1,9,by=2)
rep(1,9)
s<-1:30
sum(s)
mean(s)
max(s)
min(s)
median(s)
round(sd(s),3)
summary(s)
sort(s)
sort(s,decreasing = T)
rev(s)
matrix(2,3)
matrix(nrow=2,ncol=3)
matrix(1:6,nrow=2,ncol=3)
matrix("a",nrow=2,ncol=3)
dim(matrix(1:6,nrow=2,ncol=3))
##從上次的解答開始
if (!require('SportsAnalytics')){
install.packages("SportsAnalytics")
library(SportsAnalytics)
}
NBA1415<-fetch_NBAPlayerStatistics("14-15")
for(i in 1:nrow(NBA1415)){
if(NBA1415[i,"GamesPlayed"]>70&NBA1415[i,"TotalPoints"]>1500){
print(NBA1415[i,c("Name","Team","Position")])
}
}
subset(NBA1415,GamesPlayed>70&TotalPoints>1500)[,c("Name","Team","Position")]
NBA1415[NBA1415$GamesPlayed>70&NBA1415$TotalPoints>1500,c("Name","Team","Position")]
NBA1415$GamesPlayed>70
San<-subset(NBA1415,Team=='SAN')
order(San$TotalPoints,decreasing = T)
San[order(San$TotalPoints,decreasing = T)[1],
c("Name","Team","TotalPoints")]
unique(NBA1415$Team)
for(team in unique(NBA1415$Team)){
selectTeam<-subset(NBA1415,Team==team)
print(selectTeam[order(selectTeam$TotalPoints,decreasing = T)[1],
c("Name","Team","TotalPoints")])
}
FinalOutput<-NULL
FinalOutput<-NULL
for(team in unique(NBA1415$Team)){
selectTeam<-subset(NBA1415,Team==team)
FinalOutput<-rbind(FinalOutput,
selectTeam[
order(selectTeam$TotalPoints,decreasing = T)[1],
c("Name","Team","TotalPoints")])
}
FinalOutput
sapply(iris, mean)
sapply(NBA1415[,c("GamesPlayed","TotalMinutesPlayed","TotalPoints")],mean)
lapply(iris, mean)
lapply(NBA1415[,c("GamesPlayed","TotalMinutesPlayed","TotalPoints")],mean)
tapply(NBA1415$Name,NBA1415$Team,length)
tapply(NBA1415$TotalPoints,NBA1415$Team,max)
tapply(NBA1415$TotalPoints,NBA1415$Team,mean)
NBA1415Team<-split(NBA1415[,c("TotalPoints","GamesPlayed")],NBA1415$Team)
NBA1415Team
NBA1415Team<-split(NBA1415[,c("TotalPoints","GamesPlayed")],NBA1415$Team)
NBA1415Team
lapply(NBA1415Team, colMeans)
sapply(NBA1415Team, colMeans)
aggregate(TotalPoints ~ Team+Position, data = NBA1415, mean)
aggregate(NBA1415$TotalPoints, by=list(NBA1415$Team,NBA1415$Position), FUN=mean, na.rm=TRUE)
aggregate(TotalPoints ~ Team+Position, data = NBA1415, mean)
x<-c(1,2,3,4,5,NA)
mean(x)
mean(x, na.rm=T)
aggregate(TotalPoints ~ Team+Position, data = NBA1415, mean)
aggregate(TotalPoints ~ Position, data = NBA1415, mean)
aggregate(TotalPoints ~ Team = NBA1415, mean)
aggregate(TotalPoints ~ Team, data = NBA1415, mean)
aggregate(TotalPoints ~ Team, data = NBA1415, max)
aggregate(TotalRebounds ~ Team+Position, data = NBA1415, mean)
x <- c(1, 2, NA, 4, NA, 5)
x[! is.na(x)]
x[! complete.cases(x)]
is.na(x)
! is.na(x)
x[complete.cases(x)]
round2<-function(v){
round(v,digits = 2)
}
round2(3.886)
f <- function(a, b) {
print(a)
print(b)
}
f(45)
##Lazy Evaluation 2
f <- function(a, b) {
print(a)
print(b)
}
f(45)
f(23,41)
roundmean(c(1.1,2,3,4,5))
roundmean<-function(vector, ...){
round(mean(vector,...),digits=2)
}
roundmean(c(1.1,2,3,4,5))
roundmean(c(1.1,2,3,4,5,NA))
roundmean(c(1.1,2,3,4,5,NA),na.rm=T)
round2<-function(v){
if(!is.numeric(v)){
print("輸入數字")
return()
}
round(v,digits = 2)
}
round2("a")
apply(iris,2,max)
RoundNumber2<-function(v,XFun){
round(XFun(v),digits = 2)
}
RoundNumber2(1.1:10.1,mean)
if (!require('SportsAnalytics')){
install.packages("SportsAnalytics")
library(SportsAnalytics)
}
NBA1415<-fetch_NBAPlayerStatistics("14-15")
aggregate(TotalPoints ~ Team+Position, data = NBA1415, mean)
aggregate(TotalPoints ~ Team+Name+Position, data = NBA1415, mean)
x<-c(TotalPoints)
y<-c(TotalMinutesPlayed)
CalEfficient<-x/y
x<-c("TotalPoints")
y<-c("TotalMinutesPlayed")
CalEfficient<-x/y
x<-c("TotalPoints")
x
y<-c(NBA1415$TotalPoints)
y
x<-c(NBA1415$TotalPoints)y<-c(NBA1415$TotalMinutesPlayed)
> CalEfficient<-x/y
x<-c(NBA1415$TotalPoints)
y<-c(NBA1415$TotalMinutesPlayed)
CalEfficient<-x/y
CalEfficient
aggregate(NBA1415$TotalPoints, by=list(NBA1415$Team,NBA1415$Position), FUN=mean, na.rm=TRUE)
#apply家族- 把函數功能當成參數
mat1 <- data.frame(1:4,5:8,9:12,13:16) #4個Columns，執行4次
mat1
sapply(mat1, function(x, y) {sum(x) + y}, y = 5)
library(jsonlite)
WaterData<-fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=190796c8-7c56-42e0-8068-39242b8ec927"))
names(WaterData)
WaterData<-fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=190796c8-7c56-42e0-8068-39242b8ec927"))
WaterData<-fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=190796c8-7c56-42e0-8068-39242b8ec927"))
WaterData<-fromJSON(getURL("http://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=190796c8-7c56-42e0-8068-39242b8ec927"))
